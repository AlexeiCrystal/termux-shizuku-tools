#!/data/data/com.termux/files/usr/bin/sh

. $PREFIX/shizuku/shizuku_functions.sh

THIS_PKG_DIR=$(termux_shizuku_tools_directory)

RISH_FILE_EXISTS=$( [ -f "$THIS_PKG_DIR/rish" ] && echo "True" || echo "False" )
RISH_DEX_FILE_EXISTS=$( [ -f "$THIS_PKG_DIR/rish_shizuku.dex" ] && echo "True" || echo "False" )

if [ "$RISH_FILE_EXISTS" = "True" ] && [ "$RISH_DEX_FILE_EXISTS" = "True" ]; then
    SHIZUKU_ACCESS_CONFIGURED="True"
else
    SHIZUKU_ACCESS_CONFIGURED="False"
fi

echo "Shizuku is installed: $(is_shizuku_installed)"
echo "Shizuku version code: $(shizuku_version_code)"
echo "Termux access to Shizuku is configured: $SHIZUKU_ACCESS_CONFIGURED (rish: $RISH_FILE_EXISTS, rish_shizuku.dex: $RISH_DEX_FILE_EXISTS)"
echo " "
echo "Package name: termux-shizuku-tools"
echo "Package author: AlexeiCrystal"
echo "Package version: $(termux_shizuku_tools_version)"
echo "Package GitHub: https://github.com/AlexeiCrystal/termux-shizuku-tools"
